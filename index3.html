<!DOCTYPE html>
<html>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
  <body style="margin : 0px; overflow: hidden;">
       <script>
           AFRAME.registerComponent('opacity', {
               init: function(){
                   var el = this.el;
                   this.el.addEventListener('model-loaded', function (e) {
                       console.log(el.object3D.children[0].children[0].material.opacity)
                       el.object3D.children[0].children.forEach(element => {
                           element.material.opacity = 0.5
                       })
                   })

               }
           })
       </script>
      <a-scene
          embedded
          vr-mode-ui="enabled: false;"
          arjs="trackingMethod: best; debugUIEnabled: false;"
          renderer="logarithmicDepthBuffer: true;"
       >
          <a-assets>
              <a-asset-item id="obj" src="./primitives.obj"></a-asset-item>
              <a-asset-item id="mtl" src="./primitives.mtl"></a-asset-item>
          </a-assets>
          <!-- <a-marker id="marker_1" preset="kanji">
              <a-obj-model src="#obj" mtl="#mtl" opacity scale='0.15 0.15 0.15' ></a-obj-model>
              <a-sphere position="0.457 0.123 0.290" radius="1.25" color="yellow" scale='0.1 0.1 0.1'></a-sphere>
              <a-sphere position="-0.226 0.079 -0.222" radius="1.25" color="magenta" scale='0.07 0.07 0.07'></a-sphere>
              <a-entity geometry="primitive: cylinder; height: 0.46; segmentsHeight: 36; radius: 0.23" position="-0.306 0.215 0.298" color="red"></a-entity>
              <a-entity geometry="primitive: octahedron; radius: 0.3" scale="0.7 0.49 0.69" rotation="0 -44.44 0" position="0.109 0.142 -0.373" color="blue" material="color: #00ff00"></a-entity>              <a-entity geometry="" visible="" position="0.30338 -0.15916 0" scale="0.3 0.3 0.3" position="0.303 -0.163 0" color="blue"></a-entity>
              <a-entity geometry="primitive: cylinder; height: 0.46; segmentsHeight: 36; radius: 0.23" position="-0.306 0.215 0.298" color="red" material="color: #ff0000"></a-entity>
              <a-entity geometry="" visible="" position="0.30338 -0.15916 0" scale="0.3 0.3 0.3" color="blue" material="color: #0000ff"></a-entity>
            </a-marker> -->
                <!--ваш код-->
            <a-marker id="marker_1" preset="kanji" material="" arjs-hit-testing="" visible="">
                <a-obj-model src="#obj" mtl="#mtl" opacity="" material="" obj-model=""></a-obj-model>
                
                <a-entity scale="6.666666666666667 6.666666666666667 6.666666666666667">
                    <a-sphere position="0.457 0.123 0.29" radius="1.25" color="yellow" scale="0.1 0.1 0.1" material="" geometry=""></a-sphere>
                    <a-sphere position="-0.226 0.21961 -0.222" radius="1.25" color="magenta" scale="0.07 0.07 0.07" material="" geometry=""></a-sphere>
                    <a-entity geometry="" visible="" position="0.30338 -0.15916 0" scale="0.3 0.3 0.3" color="blue"></a-entity>
                    <a-entity geometry="primitive: cylinder; height: 0.46; segmentsHeight: 36; radius: 0.23" position="-0.306 0.36965 0.298" color="red" material="color: #ff0000"></a-entity>
                    <a-entity geometry="" visible="" position="0.30338 -0.15916 0" scale="0.3 0.3 0.3" color="blue" material="color: #0000ff"></a-entity>
                </a-entity>    
            </a-marker>
          <a-entity camera></a-camera>
      </a-scene>
  </body>

</html>